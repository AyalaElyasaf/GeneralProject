{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nexport let AddRecipeComponent = class AddRecipeComponent {\n  constructor(recipeService, fb, sta) {\n    this.recipeService = recipeService;\n    this.fb = fb;\n    this.sta = sta;\n    this.x = false;\n    this.sub = new Subscription();\n  }\n  ngOnInit() {\n    this.recipeFormGroup = this.fb.group({\n      recipeName: this.fb.control(''),\n      level: this.fb.control(''),\n      ingredients: this.fb.array([]),\n      instructions: this.fb.array([])\n    });\n  }\n  get ingredients() {\n    return this.recipeFormGroup.get('ingredients');\n  }\n  get instructions() {\n    return this.recipeFormGroup.get('instructions');\n  }\n  addNewIngredient() {\n    this.ingredients.push(this.fb.group({\n      ingredient: new FormControl('')\n    }));\n  }\n  addNewInstruction() {\n    this.instructions.push(this.fb.group({\n      instruction: new FormControl('')\n    }));\n  }\n  add() {\n    this.r = {\n      name: this.recipeFormGroup.get('recipeName').value,\n      Difficulty: this.recipeFormGroup.get('level').value,\n      isFavorite: false,\n      ingrediens: this.recipeFormGroup.get('ingredients').value.map(ing => ing.ingredient),\n      Instructions: this.recipeFormGroup.get('instructions').value.map(ins => ins.instruction)\n    };\n    this.recipeService.AddRecipe(this.r);\n    this.x = true;\n  }\n  onChange(recipe) {\n    if (recipe.isFavorite) {\n      var x = this.recipeService.changFavorite(recipe);\n    }\n    this.ngOnInit();\n    return x;\n  }\n};\nAddRecipeComponent = __decorate([Component({\n  selector: 'app-add-recipe',\n  templateUrl: './add-recipe.component.html',\n  styleUrls: ['./add-recipe.component.scss']\n})], AddRecipeComponent);","map":{"version":3,"names":["Component","FormControl","Subscription","AddRecipeComponent","constructor","recipeService","fb","sta","x","sub","ngOnInit","recipeFormGroup","group","recipeName","control","level","ingredients","array","instructions","get","addNewIngredient","push","ingredient","addNewInstruction","instruction","add","r","name","value","Difficulty","isFavorite","ingrediens","map","ing","Instructions","ins","AddRecipe","onChange","recipe","changFavorite","__decorate","selector","templateUrl","styleUrls"],"sources":["H:\\אנגולר\\GeneralProject\\src\\app\\Componnets\\add-recipe\\add-recipe.component.ts"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Observable, Subscription } from 'rxjs';\nimport { Recipe } from 'src/app/Models/recipe';\nimport { RecipeService } from 'src/app/Services/recipe.service';\n\n@Component({\n  selector: 'app-add-recipe',\n  templateUrl: './add-recipe.component.html',\n  styleUrls: ['./add-recipe.component.scss']\n})\n\nexport class AddRecipeComponent {\n  x:boolean=false\n  recipes$:Observable<Recipe[]>;\n  private sub = new Subscription();\n  r:Recipe;\n\n  recipeFormGroup:FormGroup;\n\n  \n  constructor(private recipeService:RecipeService,private fb: FormBuilder, private sta) {}\n\n  ngOnInit():void{\n    this.recipeFormGroup=this.fb.group({\n      recipeName:this.fb.control(''),\n      level:this.fb.control(''),\n      ingredients: this.fb.array([]),\n      instructions: this.fb.array([])\n    });\n  }\n  get ingredients() {\n    return this.recipeFormGroup.get('ingredients') as FormArray;\n  }\n\n  get instructions() {\n    return this.recipeFormGroup.get('instructions') as FormArray;\n  }\n\n  addNewIngredient() {\n    this.ingredients.push(this.fb.group({\n      ingredient: new FormControl('')\n    }));\n  }\n\n  addNewInstruction() {\n    this.instructions.push(this.fb.group({\n      instruction: new FormControl('')\n    }));\n  }\n  add(){\n      this.r = {\n        name: this.recipeFormGroup.get('recipeName').value,\n        Difficulty: this.recipeFormGroup.get('level').value,\n        isFavorite:false,\n        ingrediens: this.recipeFormGroup.get('ingredients').value.map((ing: { ingredient: string }) => ing.ingredient),\n        Instructions: this.recipeFormGroup.get('instructions').value.map((ins: { instruction: string }) => ins.instruction)\n      };\n      this.recipeService.AddRecipe(this.r);\n      this.x=true;  \n    }\n    onChange(recipe :Recipe):Recipe{\n      if(recipe.isFavorite){\n\n      var x= this.recipeService.changFavorite(recipe);\n      }\n      this.ngOnInit()\n      return x;\n        }\n}"],"mappings":";AACA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAAiCC,WAAW,QAA+B,gBAAgB;AAC3F,SAAqBC,YAAY,QAAQ,MAAM;AAUxC,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAS7BC,YAAoBC,aAA2B,EAASC,EAAe,EAAUC,GAAG;IAAhE,KAAAF,aAAa,GAAbA,aAAa;IAAuB,KAAAC,EAAE,GAAFA,EAAE;IAAuB,KAAAC,GAAG,GAAHA,GAAG;IARpF,KAAAC,CAAC,GAAS,KAAK;IAEP,KAAAC,GAAG,GAAG,IAAIP,YAAY,EAAE;EAMuD;EAEvFQ,QAAQA,CAAA;IACN,IAAI,CAACC,eAAe,GAAC,IAAI,CAACL,EAAE,CAACM,KAAK,CAAC;MACjCC,UAAU,EAAC,IAAI,CAACP,EAAE,CAACQ,OAAO,CAAC,EAAE,CAAC;MAC9BC,KAAK,EAAC,IAAI,CAACT,EAAE,CAACQ,OAAO,CAAC,EAAE,CAAC;MACzBE,WAAW,EAAE,IAAI,CAACV,EAAE,CAACW,KAAK,CAAC,EAAE,CAAC;MAC9BC,YAAY,EAAE,IAAI,CAACZ,EAAE,CAACW,KAAK,CAAC,EAAE;KAC/B,CAAC;EACJ;EACA,IAAID,WAAWA,CAAA;IACb,OAAO,IAAI,CAACL,eAAe,CAACQ,GAAG,CAAC,aAAa,CAAc;EAC7D;EAEA,IAAID,YAAYA,CAAA;IACd,OAAO,IAAI,CAACP,eAAe,CAACQ,GAAG,CAAC,cAAc,CAAc;EAC9D;EAEAC,gBAAgBA,CAAA;IACd,IAAI,CAACJ,WAAW,CAACK,IAAI,CAAC,IAAI,CAACf,EAAE,CAACM,KAAK,CAAC;MAClCU,UAAU,EAAE,IAAIrB,WAAW,CAAC,EAAE;KAC/B,CAAC,CAAC;EACL;EAEAsB,iBAAiBA,CAAA;IACf,IAAI,CAACL,YAAY,CAACG,IAAI,CAAC,IAAI,CAACf,EAAE,CAACM,KAAK,CAAC;MACnCY,WAAW,EAAE,IAAIvB,WAAW,CAAC,EAAE;KAChC,CAAC,CAAC;EACL;EACAwB,GAAGA,CAAA;IACC,IAAI,CAACC,CAAC,GAAG;MACPC,IAAI,EAAE,IAAI,CAAChB,eAAe,CAACQ,GAAG,CAAC,YAAY,CAAC,CAACS,KAAK;MAClDC,UAAU,EAAE,IAAI,CAAClB,eAAe,CAACQ,GAAG,CAAC,OAAO,CAAC,CAACS,KAAK;MACnDE,UAAU,EAAC,KAAK;MAChBC,UAAU,EAAE,IAAI,CAACpB,eAAe,CAACQ,GAAG,CAAC,aAAa,CAAC,CAACS,KAAK,CAACI,GAAG,CAAEC,GAA2B,IAAKA,GAAG,CAACX,UAAU,CAAC;MAC9GY,YAAY,EAAE,IAAI,CAACvB,eAAe,CAACQ,GAAG,CAAC,cAAc,CAAC,CAACS,KAAK,CAACI,GAAG,CAAEG,GAA4B,IAAKA,GAAG,CAACX,WAAW;KACnH;IACD,IAAI,CAACnB,aAAa,CAAC+B,SAAS,CAAC,IAAI,CAACV,CAAC,CAAC;IACpC,IAAI,CAAClB,CAAC,GAAC,IAAI;EACb;EACA6B,QAAQA,CAACC,MAAc;IACrB,IAAGA,MAAM,CAACR,UAAU,EAAC;MAErB,IAAItB,CAAC,GAAE,IAAI,CAACH,aAAa,CAACkC,aAAa,CAACD,MAAM,CAAC;;IAE/C,IAAI,CAAC5B,QAAQ,EAAE;IACf,OAAOF,CAAC;EACN;CACP;AAzDYL,kBAAkB,GAAAqC,UAAA,EAN9BxC,SAAS,CAAC;EACTyC,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EAEWxC,kBAAkB,CAyD9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}