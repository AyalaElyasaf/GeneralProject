{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { Subscription } from 'rxjs';\nexport let RecipesComponent = class RecipesComponent {\n  // private sub2 = new Subscription();\n  // private sub3 = new Subscription();\n  constructor(recipeServise, myRoute, statisticService) {\n    this.recipeServise = recipeServise;\n    this.myRoute = myRoute;\n    this.statisticService = statisticService;\n    this.isFavoritPage = false;\n    this.x = \"\";\n    this.isFav = \"0\";\n    this.sub = new Subscription();\n  }\n  // views$: Observable<number>;\n  // loves$: Observable<number>;\n  ngOnInit() {\n    this.myRoute.queryParamMap.subscribe(params => {\n      this.isFav = params.get('isF');\n    });\n    if (this.isFav === '0') {\n      this.recipes$ = this.recipeServise.Recipes$;\n    }\n    if (this.isFav === '1') {\n      this.recipes$ = this.recipeServise.filterdRecipes$;\n    }\n    this.sub = this.recipeServise.Recipes$.subscribe();\n    // this.sub2 = this.statisticService.views$.subscribe();\n    // this.sub3 = this.statisticService.loves$.subscribe();\n  }\n\n  DeleteRecipe(r) {\n    if (!confirm(\"are you sure?\")) return;\n    this.recipeServise.DeleteRecipe(r);\n  }\n  onView() {\n    this.statisticService.addViews();\n  }\n  onChange(recipe) {\n    if (recipe.isFavorite) {\n      var x = this.recipeServise.changFavorite(recipe);\n      this.statisticService.lessLove();\n    } else {\n      var x = this.recipeServise.changFavorite(recipe);\n      this.statisticService.addLove();\n    }\n    this.ngOnInit();\n    return x;\n  }\n};\n__decorate([ViewChild('HeartOutLine', {\n  static: true\n})], RecipesComponent.prototype, \"HeartOutLine\", void 0);\nRecipesComponent = __decorate([Component({\n  selector: 'app-recipes',\n  templateUrl: './recipes.component.html',\n  styleUrls: ['./recipes.component.scss']\n})], RecipesComponent);","map":{"version":3,"names":["Component","ViewChild","Subscription","RecipesComponent","constructor","recipeServise","myRoute","statisticService","isFavoritPage","x","isFav","sub","ngOnInit","queryParamMap","subscribe","params","get","recipes$","Recipes$","filterdRecipes$","DeleteRecipe","r","confirm","onView","addViews","onChange","recipe","isFavorite","changFavorite","lessLove","addLove","__decorate","static","selector","templateUrl","styleUrls"],"sources":["H:\\אנגולר\\GeneralProject\\src\\app\\Componnets\\recipes\\recipes.component.ts"],"sourcesContent":["import { Component, ElementRef, Input, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Observable, Subscription } from 'rxjs';\nimport { Recipe } from 'src/app/Models/recipe';\nimport { RecipeService } from 'src/app/Services/recipe.service';\nimport { StatisticService } from 'src/app/Services/statistic.service';\n@Component({\n  selector: 'app-recipes',\n  templateUrl: './recipes.component.html',\n  styleUrls: ['./recipes.component.scss']\n})\nexport class RecipesComponent {\n  @ViewChild('HeartOutLine', { static: true }) HeartOutLine: ElementRef;\n  isFavoritPage: boolean = false;\n  x: string = \"\";\n  isFav: string = \"0\";\n  name: string;\n  private sub = new Subscription();\n  // private sub2 = new Subscription();\n  // private sub3 = new Subscription();\n\n  constructor(private recipeServise: RecipeService, private myRoute: ActivatedRoute, private statisticService: StatisticService) { }\n\n  recipes$: Observable<Recipe[]>;\n  // views$: Observable<number>;\n  // loves$: Observable<number>;\n\n  ngOnInit() {\n    this.myRoute.queryParamMap.subscribe(params => { this.isFav = params.get('isF'); })\n    if (this.isFav === '0') {\n      this.recipes$ = this.recipeServise.Recipes$;\n    }\n    if (this.isFav === '1') {\n      this.recipes$ = this.recipeServise.filterdRecipes$;\n    }\n    this.sub = this.recipeServise.Recipes$.subscribe();\n    // this.sub2 = this.statisticService.views$.subscribe();\n    // this.sub3 = this.statisticService.loves$.subscribe();\n  }\n\n  DeleteRecipe(r: Recipe) {\n    if (!confirm(\"are you sure?\"))\n      return;\n    this.recipeServise.DeleteRecipe(r);\n  }\n\n  onView() {\n    this.statisticService.addViews();\n  }\n\n  onChange(recipe: Recipe): Recipe {\n    if (recipe.isFavorite) {\n      var x = this.recipeServise.changFavorite(recipe)\n      this.statisticService.lessLove();\n    }\n    else {\n      var x = this.recipeServise.changFavorite(recipe)\n      this.statisticService.addLove();\n    }\n    this.ngOnInit()\n    return x;\n  }\n}"],"mappings":";AAAA,SAASA,SAAS,EAAqBC,SAAS,QAAQ,eAAe;AAEvE,SAAqBC,YAAY,QAAQ,MAAM;AASxC,WAAMC,gBAAgB,GAAtB,MAAMA,gBAAgB;EAO3B;EACA;EAEAC,YAAoBC,aAA4B,EAAUC,OAAuB,EAAUC,gBAAkC;IAAzG,KAAAF,aAAa,GAAbA,aAAa;IAAyB,KAAAC,OAAO,GAAPA,OAAO;IAA0B,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAR3G,KAAAC,aAAa,GAAY,KAAK;IAC9B,KAAAC,CAAC,GAAW,EAAE;IACd,KAAAC,KAAK,GAAW,GAAG;IAEX,KAAAC,GAAG,GAAG,IAAIT,YAAY,EAAE;EAIiG;EAGjI;EACA;EAEAU,QAAQA,CAAA;IACN,IAAI,CAACN,OAAO,CAACO,aAAa,CAACC,SAAS,CAACC,MAAM,IAAG;MAAG,IAAI,CAACL,KAAK,GAAGK,MAAM,CAACC,GAAG,CAAC,KAAK,CAAC;IAAE,CAAC,CAAC;IACnF,IAAI,IAAI,CAACN,KAAK,KAAK,GAAG,EAAE;MACtB,IAAI,CAACO,QAAQ,GAAG,IAAI,CAACZ,aAAa,CAACa,QAAQ;;IAE7C,IAAI,IAAI,CAACR,KAAK,KAAK,GAAG,EAAE;MACtB,IAAI,CAACO,QAAQ,GAAG,IAAI,CAACZ,aAAa,CAACc,eAAe;;IAEpD,IAAI,CAACR,GAAG,GAAG,IAAI,CAACN,aAAa,CAACa,QAAQ,CAACJ,SAAS,EAAE;IAClD;IACA;EACF;;EAEAM,YAAYA,CAACC,CAAS;IACpB,IAAI,CAACC,OAAO,CAAC,eAAe,CAAC,EAC3B;IACF,IAAI,CAACjB,aAAa,CAACe,YAAY,CAACC,CAAC,CAAC;EACpC;EAEAE,MAAMA,CAAA;IACJ,IAAI,CAAChB,gBAAgB,CAACiB,QAAQ,EAAE;EAClC;EAEAC,QAAQA,CAACC,MAAc;IACrB,IAAIA,MAAM,CAACC,UAAU,EAAE;MACrB,IAAIlB,CAAC,GAAG,IAAI,CAACJ,aAAa,CAACuB,aAAa,CAACF,MAAM,CAAC;MAChD,IAAI,CAACnB,gBAAgB,CAACsB,QAAQ,EAAE;KACjC,MACI;MACH,IAAIpB,CAAC,GAAG,IAAI,CAACJ,aAAa,CAACuB,aAAa,CAACF,MAAM,CAAC;MAChD,IAAI,CAACnB,gBAAgB,CAACuB,OAAO,EAAE;;IAEjC,IAAI,CAAClB,QAAQ,EAAE;IACf,OAAOH,CAAC;EACV;CACD;AAlD8CsB,UAAA,EAA5C9B,SAAS,CAAC,cAAc,EAAE;EAAE+B,MAAM,EAAE;AAAI,CAAE,CAAC,C,qDAA0B;AAD3D7B,gBAAgB,GAAA4B,UAAA,EAL5B/B,SAAS,CAAC;EACTiC,QAAQ,EAAE,aAAa;EACvBC,WAAW,EAAE,0BAA0B;EACvCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACWhC,gBAAgB,CAmD5B"},"metadata":{},"sourceType":"module","externalDependencies":[]}