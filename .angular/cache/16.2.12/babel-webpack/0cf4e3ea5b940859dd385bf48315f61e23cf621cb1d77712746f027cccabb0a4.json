{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nexport let AddRecipeComponent = class AddRecipeComponent {\n  constructor(recipeService, fb, statisticServ) {\n    this.recipeService = recipeService;\n    this.fb = fb;\n    this.statisticServ = statisticServ;\n    this.x = false;\n    this.sub = new Subscription();\n  }\n  ngOnInit() {\n    this.recipeFormGroup = this.fb.group({\n      recipeName: this.fb.control(''),\n      level: this.fb.control(''),\n      love: this.fb.control(''),\n      ingredients: this.fb.array([]),\n      instructions: this.fb.array([])\n    });\n  }\n  get ingredients() {\n    return this.recipeFormGroup.get('ingredients');\n  }\n  get instructions() {\n    return this.recipeFormGroup.get('instructions');\n  }\n  addNewIngredient() {\n    this.ingredients.push(this.fb.group({\n      ingredient: new FormControl('')\n    }));\n  }\n  addNewInstruction() {\n    this.instructions.push(this.fb.group({\n      instruction: new FormControl('')\n    }));\n  }\n  add() {\n    this.r = {\n      name: this.recipeFormGroup.get('recipeName').value,\n      Difficulty: this.recipeFormGroup.get('level').value,\n      isFavorite: false,\n      ingrediens: this.recipeFormGroup.get('ingredients').value.map(ing => ing.ingredient),\n      Instructions: this.recipeFormGroup.get('instructions').value.map(ins => ins.instruction)\n    };\n    if (this.recipeFormGroup.get('level').value === 1) this.r.isFavorite = true;else this.r.isFavorite = false;\n    this.recipeService.AddRecipe(this.r);\n    this.x = true;\n    if (this.r.isFavorite) this.statisticServ.addLove();\n  }\n};\nAddRecipeComponent = __decorate([Component({\n  selector: 'app-add-recipe',\n  templateUrl: './add-recipe.component.html',\n  styleUrls: ['./add-recipe.component.scss']\n})], AddRecipeComponent);","map":{"version":3,"names":["Component","FormControl","Subscription","AddRecipeComponent","constructor","recipeService","fb","statisticServ","x","sub","ngOnInit","recipeFormGroup","group","recipeName","control","level","love","ingredients","array","instructions","get","addNewIngredient","push","ingredient","addNewInstruction","instruction","add","r","name","value","Difficulty","isFavorite","ingrediens","map","ing","Instructions","ins","AddRecipe","addLove","__decorate","selector","templateUrl","styleUrls"],"sources":["H:\\אנגולר\\GeneralProject\\src\\app\\Componnets\\add-recipe\\add-recipe.component.ts"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { FormArray, FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Observable, Subscription } from 'rxjs';\nimport { Recipe } from 'src/app/Models/recipe';\nimport { RecipeService } from 'src/app/Services/recipe.service';\nimport { StatisticService } from 'src/app/Services/statistic.service';\n\n@Component({\n  selector: 'app-add-recipe',\n  templateUrl: './add-recipe.component.html',\n  styleUrls: ['./add-recipe.component.scss']\n})\n\nexport class AddRecipeComponent {\n  x: boolean = false\n  recipes$: Observable<Recipe[]>;\n  private sub = new Subscription();\n  r: Recipe;\n\n  recipeFormGroup: FormGroup;\n  constructor(private recipeService: RecipeService, private fb: FormBuilder, private statisticServ: StatisticService) { }\n\n  ngOnInit(): void {\n    this.recipeFormGroup = this.fb.group({\n      recipeName: this.fb.control(''),\n      level: this.fb.control(''),\n      love: this.fb.control(''),\n      ingredients: this.fb.array([]),\n      instructions: this.fb.array([])\n    });\n  }\n  get ingredients() {\n    return this.recipeFormGroup.get('ingredients') as FormArray;\n  }\n\n  get instructions() {\n    return this.recipeFormGroup.get('instructions') as FormArray;\n  }\n\n  addNewIngredient() {\n    this.ingredients.push(this.fb.group({\n      ingredient: new FormControl('')\n    }));\n  }\n\n  addNewInstruction() {\n    this.instructions.push(this.fb.group({\n      instruction: new FormControl('')\n    }));\n  }\n  add() {\n    this.r = {\n      name: this.recipeFormGroup.get('recipeName').value,\n      Difficulty: this.recipeFormGroup.get('level').value,\n      isFavorite: false,\n      ingrediens: this.recipeFormGroup.get('ingredients').value.map((ing: { ingredient: string }) => ing.ingredient),\n      Instructions: this.recipeFormGroup.get('instructions').value.map((ins: { instruction: string }) => ins.instruction)\n    };\n    if (this.recipeFormGroup.get('level').value === 1)\n      this.r.isFavorite = true;\n    else\n      this.r.isFavorite = false;\n    this.recipeService.AddRecipe(this.r);\n    this.x = true;\n    if (this.r.isFavorite)\n      this.statisticServ.addLove();\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}